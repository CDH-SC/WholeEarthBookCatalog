<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="data-search.html"><link rel="import" href="frag-footer.html"><link rel="import" href="frag-header.html"><link rel="import" href="frag-rotation.html"><link rel="import" href="frag-advanced-search.html"></div><dom-module id="dhc-home"><template><style include="shared-styles">paper-input{margin:0;}paper-button.advanced-search-button{font-size:18px;color:#2d9CDB;text-decoration:underline;padding:0;margin:0;box-shadow:none;height:18px;}.align-advanced-item{width:100%;display:flex;flex-direction:row;justify-content:flex-end;}h1{margin:0;text-align:center;font-size:96px;font-weight:lighter;}.book-view{font-size:36px;font-style:italic;margin-top:50px;height:315px;max-height:315px;display:flex;align-items:center;justify-content:center;font-weight:bolder;width:100%;position:relative;}#recommendations{display:flex;flex-basis:auto;flex-grow:1;justify-content:center;align-items:center;text-align:center;max-width:800px;height:315px;background-color:rgba(196,196,196,0.53);z-index:10;color:#333333;}@media screen and (max-width: 800px){.book-view{display:none;}}@media screen and (max-height: 800px){.book-view{display:none;}}a > paper-button{color:#333333;}a:visited > paper-button{color:#333333;}.inner-container{width:60%;max-width:800px;display:flex;flex-direction:column;align-items:center;}frag-rotation{z-index:1;}.absol{position:absolute;}#sendSearchButton{box-shadow:none;height:20px;width:20px;min-width:unset;padding:0;margin:0;}</style><iron-ajax id="savebasicq" url="/api/update_saved_content" handle-as="json" on-response="handleResponse" content-type="application/json" debounce-duration="300"></iron-ajax><app-location route="{{route}}"></app-location><div class="container"><div class="inner-container"><h1 id="title-center">DHC</h1><paper-input id="keywordSearch" class="large-keyword-search" on-keydown="_enter_check" placeholder="Keywords" value="{{search.keyword}}"><paper-button noink="" on-click="_goto_search" id="sendSearchButton" slot="suffix"><iron-icon icon="arrow-forward"></iron-icon></paper-button></paper-input><div class="align-advanced-item"><paper-button class="advanced-search-button" on-click="_open_advanced">Advanced</paper-button></div><frag-advanced-search id="advancedSearch" route="{{route}}" user="{{user}}"></frag-advanced-search><div class="book-view"><template is="dom-if" if="{{!inSession}}"><div id="recommendations">Sign in for Recommendations</div></template><div class="absol"><frag-rotation></frag-rotation></div></div></div><frag-footer></frag-footer></div></template><script>var dhcHome=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:"is",get:function(){return"dhc-home"}},{key:"properties",get:function(){return{rootPath:String,user:{type:Object,notify:!0,observer:"_update_dom_session"},inSession:{type:Boolean},search:{type:Object,value:{keyword:null}}}}}]),babelHelpers.createClass(b,[{key:"ready",value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"ready",this).call(this),this._update_dom_session()}},{key:"_update_dom_session",value:function(){void 0!==this.user&&this.user.authenticated?(console.log(this.user),this.inSession=!0):this.inSession=!1}},{key:"_enter_check",value:function(a){13===a.keyCode&&this._goto_search()}},{key:"_goto_search",value:function(){var a={advanced:!1,basic_query:this.search.keyword,terms:{},limit:25};this.$.savebasicq.body={_id:this.user.id,keyword:"recent_searches",content:a},this.dispatchEvent(new CustomEvent("update-search",{bubbles:!0,composed:!0,detail:this.search.keyword})),this.set("route.path","/book-results/"+this.search.keyword)}},{key:"_open_advanced",value:function(){this.$.advancedSearch.$.dialog.open()}}]),b}(Polymer.Element);window.customElements.define(dhcHome.is,dhcHome);</script></dom-module></body></html>