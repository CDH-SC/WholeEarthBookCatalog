<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<!-- iron ajax -->
<!-- app route -->
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">

<!-- Inserts/removes paper input fields -->

<dom-module id="frag-advanced-search">
    <template>
        <style>
            #dialog {
                width: 60%;
            }

            .col-inputs {
                display: flex;
                flex-direction: row;
                justify-content: space-around;
            }

            .input-adv {
                width: 50rem;
                padding-right: 2rem;
                padding-left: 2rem;
            }

            .remove {
                background-color: red;
                color: white;
            }
            .add {
                background-color: green;
                color: white;
            }
            .search-submit {
                background-color: blue;
                color: white;
            }
        </style>

        <paper-dialog id="dialog">
            <h2>Advanced Search</h2>
            <paper-dialog-scrollable>
                <template is="dom-repeat" items="[[numFieldsArray]]">
                    <div class="col-inputs">
                        <paper-input class="input-adv"></paper-input>
                        <paper-dropdown-menu label="search type">
                            <paper-listbox slot="dropdown-content">
                                <template is="dom-repeat" items="[[avaliableChoices]]" as="choice">
                                    <paper-item>
                                        {{choice}}
                                    </paper-item>
                                </template>
                            </paper-listbox>
                        </paper-dropdown-menu>
                        <paper-button class="remove">
                            Remove
                        </paper-button>
                    </div>
                </template>
                <paper-button class="add" on-click="_increment_numFields">Add Field</paper-button>
                <paper-button class="search-submit">Search</paper-button>
            </paper-dialog-scrollable>
        </paper-dialog>
        
    </template>

    <script>
        class fragAdvancedSearch extends Polymer.Element {
            static get is() {
                return 'frag-advanced-search'; 
            }
            static get properties() {
                // Startout with 3 fields, Keyword, author, title
                return {
                    numInputs: Number,
                    numFieldsArray: {
                        type: Array,
                        value: [0, 1, 2]
                    },
                    avaliableChoices: {
                        type: Array,
                        value: ["keyword", "title", "author", "publisher", "year"], 
                    }
                }
            }
        } window.customElements.define(fragAdvancedSearch.is, fragAdvancedSearch);
    </script>
</dom-module>